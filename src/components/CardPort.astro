---
import Icon from "./IconPort.astro";
import PillList from "./ListPills.astro";

interface Props {
  title: string;
  link: string;
  categories: Category[];
  color?: string;
}

const { title, link, categories, color } = Astro.props;
---

<a href={link}>
  <div class="port-card" style={color ? `--port-color: var(--${color})` : ""}>
    <figure class="port-icon">
      <Icon port={title} />
    </figure>

    <h4 class="port-name">{title}</h4>

    <PillList
      list={categories.map(
        (category: Category) => `${category.emoji} ${category.name}`,
      )}
    />
  </div>
</a>

<style lang="scss">
  @use "../styles/utils";

  .port-card {
    display: flex;
    flex-direction: column;
    gap: var(--space-xxs);

    @include utils.containerPadding();

    border-radius: var(--border-radius-normal);
    background-color: var(--mantle);
    background-size: 200%;
    background-position: top left;

    text-transform: capitalize;
    color: var(--subtext0);
    font-size: 1.6rem;

    transition: all 300ms ease-in-out;

    &:hover {
      transform: scale(105%);

      background-position: top right;

      @media (prefers-reduced-motion) {
        transform: none;
      }
    }

    figure,
    h4 {
      margin: 0;
      padding: 0;
    }

    .port-name {
      color: var(--text);
      font-size: 2rem;
    }

    .port-icon {
      color: var(--port-color);
    }
  }
</style>
