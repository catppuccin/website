---
hero:
  image: "./the-external-link-icon-and-why-its-gone.webp"
  author: "Karina Vorozheeva"
  source: "https://unsplash.com/photos/photo-of-three-butterflies-pollinating-on-purple-petaled-flowers-Kol2ib6ehQE"
title: "Why We Ditched the Icon for External Links"
summary: "The small arrow beside external links was nice... so why did we get rid of it?"
category: "DevLog"
datePosted: "2024-12-14"
featured: true
authors:
  - name: "Lemon"
    title: "Co-Owner"
    github: "unseen-ninja"
    email: "lemon@unseen.ninja"
  - name: "Hammy"
    title: "Co-Owner"
    github: "sgoudham"
    email: "hammy@catppuccin.com"
---

You may or may not have already noticed it; The small arrow (`â†—`) we used to
indicate links with a target outside of `catppuccin.com` has been removed. 

Surprisingly, this ended up being a tough decision as we grew quite attached to
the little guy, but ultimately the decision came down to two key concerns:

1. **Rise in technical complexity.**
2. **Icon ambiguity.**

Let's dive in!

## Initial implementation

For the initial release of the website, we created a `Link` component to be used
throughout the codebase. This worked the way we wanted it to as we could control
the styling by passing in or omitting props.

```astro title="Link.astro"
---
interface Props {
  href: string;
  external?: boolean;
  muted?: boolean;
}

const { href, external = false, muted = false } = Astro.props;
---

<a href={href} class:list={[`${muted ? "muted" : ""}`]}>
  <slot />{external ? <span class="external">&#x2197;</span> : ""}
</a>

<style lang="scss">
  ...
</style>
```

This isn't the only approach we could have taken to append the icon after all
our links. For example, we could have opted for a CSS based approach:

```scss title="_typography.css"
a[href^="https://"]::after {
  content: '\2197';
}
```

However, we decided against this approach as a number of exceptions had to be
made which we, at the time, thought was better handled via props instead of CSS
rules.

In any case, our component based approach worked fine and we were, more or less,
happy with the way it worked.

## External link icons in blog posts

Recently, we made the decision to launch a blog and, thankfully, Astro made it
_very easy_ to get one up and running. We added the official
[@astrojs/mdx](https://github.com/withastro/astro/tree/main/packages/integrations/mdx/)
integration, created the new blog layout, and wrote [our first blog
post!](/blog/celebrating-three-years-of-catppuccin) ðŸ¥³

While writing this blog post, we realised that our design meant the `Link`
component needed to be imported to specify an external link, which we weren't
particularly fond of...

```mdx title="celebrating-three-years-of-catppuccin.mdx"
import Link from "../../components/Link.astro"

Three years ago today, 5th December 2021, <Link
href="https://github.com/pocco81" external>Pocco</Link> created the <Link
href="https://github.com/catppuccin/catppuccin/releases/tag/v0.1.0"
external>v0.1.0</Link> GitHub release.
```

We tried mapping the `a` tag to the `Link` component, but couldn't quite figure
out how to pass in the `external` prop.

It would be a bad idea to assume all links within a blog post are internal or
external, so we ditched this idea and continued on with other tasks we wanted to
accomplish.

## Auto detecting external links

A few days later, we performed the upgrade to [Astro 5 and Svelte
5](https://github.com/catppuccin/website/pull/116), prompting us to reconsider
and re-evaluate the structure of the codebase. From revisiting the `Link`
component, we realised that we could use the `SITE` environment variable given
to us by Astro to determine external links.

Here's our brand new and improved `Link` component:

```svelte title="Link.svelte"
<script lang="ts">
  import type { Snippet } from "svelte";

  interface Props {
    href: string;
    externalIcon?: boolean;
    muted?: boolean;
    underline?: boolean;
    children: Snippet;
  }

  let { href, externalIcon = true, muted = false, underline = true, children }: Props = $props();

  const domain = import.meta.env.SITE;
</script>

<!-- We need the "externalIcon" boolean since we may not always to put the external icon on external links. -->
<!-- For example, the "Powered By Vercel" badge. -->
{#snippet externalLinkIcon()}
  {#if externalIcon}<span class="external">&#x2197;</span>{/if}
{/snippet}

{#if !href.includes(domain) && !href.startsWith("/") && !href.startsWith("#")}
  <a {href} class:muted class:underline>{@render children()}{@render externalLinkIcon()}</a>
{:else}
  <a {href} class:muted class:underline>{@render children()}</a>
{/if}

<style lang="scss">
  ...
</style>
```

Also, we took the opportunity to add the mapping between the `a` tag and the new
`Link` component:

```astro title="blog/[id].astro" ins="components={{ a: Link }}"
<Content components={{ a: Link }} />
```

Meaning the MDX files no longer had to import the `Link` component and could use
normal Markdown:

```diff title="celebrating-three-years-of-catppuccin.mdx" lang="mdx"
-   import Link from "../../components/Link.astro"

-   Three years ago today, 5th December 2021, <Link
-   href="https://github.com/pocco81" external>Pocco</Link> created the <Link
-   href="https://github.com/catppuccin/catppuccin/releases/tag/v0.1.0"
-   external>v0.1.0</Link> GitHub release.
+   Three years ago today, 5th December 2021, [Pocco](https://github.com/pocco81)
+   created the
+   [v0.1.0](https://github.com/catppuccin/catppuccin/releases/tag/v0.1.0) GitHub
+   release.
```

Of course, this meant the external icon couldn't be disabled in blog posts but
that was a tradeoff we were okay with making.

The new approach is much better right...? Well, actually, we didn't think so.
The implementation is a lot more complicated and convoluted than we ever
imagined a "simple" Link component to be.

With external links now identified based on the value of `href`, we needed an
extra `externalIcon` prop to disable the icon. The most notable example being
the "Powered By Vercel" badge in our footer. 

At this point, we were suitably fed up of the extra complexity we were bringing
into this codebase, but the real breaking point was yet to come...

## Adding links to headings

This breaking point came when we started work on adding anchor links to blog
headings. Once again, Astro comes to the rescue by making it relatively painless
to configure and set up anchor links.

Astro supports importing
[rehype](https://docs.astro.build/en/guides/markdown-content/#adding-remark-and-rehype-plugins)
plugins, meaning we can import
[rehype-autolink-headings](https://github.com/rehypejs/rehype-autolink-headings)
and have headings automatically wrapped, prepended, appended, etc with anchor
tags.

Unfortunately, much to our disappointment, rehype was unable to inject the
anchor tags into the headings because our own `Link` component was being applied
afterwards, removing the crucial CSS classes needed to style the headings.

The `Link` component was created with pure intentions but evolved into a pretty
big headache. It was annoying knowing that we engineered ourselves into this
corner of complexity and that our problems would practically vanish if the
external link icon was removed (therefore also removing the need for the
component entirely.)

## Ambiguity around the icon

Moving away from the technical complexity, an important question we didn't think
to ask ourselves at the beginning was "What does the icon _really_ mean?"

This kind of iconography has existed for a long time and while we personally
thought the meaning of the icon was clear, it turns out not everyone thinks
about it the same way we do.

Does it indicate an external link â€“ _like we used it on this website_ â€“ or would
it indicate that the link â€“ _no matter the domain_ â€“ opens in a new tab â€“ or...
_both_?

There are numerous forums online ~~debating~~ discussing what this icon should
indicate. One of the most compelling sources of information we found in favour
of removing it was from the UK government, who decided to wipe the icon
completely from their design system back in 2016:

> Weâ€™d assumed that there was a clear need for the external link icon, but in 4
> years weâ€™ve seen no evidence that backs this up [...]
>
> We drew on the experience of the design and research communities in government
> and asked them if theyâ€™d ever observed users making use of the icon, which they
> hadnâ€™t. [...] 
>
> <cite>~ Tim Paul on [designnotes.blog.gov.uk](https://designnotes.blog.gov.uk/2016/11/28/removing-the-external-link-icon-from-gov-uk/)</cite>

Similarly, the [United States Web Design System
(USWDS)](https://designsystem.digital.gov/) team carried out a [research
study](https://github.com/uswds/uswds/wiki/2021-07-29-External-Link-Indicator-Research-Findings)
involving users being exposed to consistent usage of an external link icon and
arrived at the following conclusions:

> Users didn't consistently understand the external link icon or the "Exit" badge. [...]
>
> Users are more likely to ignore link icons and badges than think about their
> meaning. Majority of the participants didn't mention the external link
> indicators when asked to read aloud the paragraph that contained external links. [...]
>
> <cite>~ USWDS team via [External Link Indicator Research Findings](https://github.com/uswds/uswds/wiki/2021-07-29-External-Link-Indicator-Research-Findings)</cite>

The more we researched, the more we understood what we had to do.

## Saying farewell

At last, we've arrived to present day.

With the release of this blog post, the external link icon has been removed and
the custom `Link` component has been deleted. Normal `<a>` tags are used
throughout the codebase and the CSS is defined globally, allowing it to be
overridden at a local level.

```scss title="_typography.scss"
a {
  transition: color 250ms ease-in-out;
  text-decoration: none;
  color: var(--blue);

  &:hover,
  &:focus {
    text-decoration: underline;
  }
}
```

There's probably a life lesson here about avoiding unnecessary complexity and
actually understanding user behaviour, but we'll leave you to come to your own
conclusions for that one.
 
Farewell little `â†—`, you will be missed. \</3